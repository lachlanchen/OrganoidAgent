<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BioAgent</title>
    <link rel="manifest" href="manifest.json" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="page">
      <header class="hero">
        <div>
          <p class="eyebrow">AI Agent for Organoid Processing</p>
          <h1>BioAgent</h1>
          <p class="subtitle">Prompt is All You Need</p>
          <p class="paper-title">
            Prompt is All You Need: An AI Agent for Biomedical Analysis with Atomic Task
          </p>
        </div>
        <div class="status-card">
          <div class="status-row">
            <span>Backend</span>
            <span id="status-indicator" class="chip neutral">Checking</span>
          </div>
          <div class="status-row">
            <span>Jobs</span>
            <span id="job-count" class="chip neutral">0 queued</span>
          </div>
          <div class="status-row">
            <span>Mode</span>
            <span class="chip">Local analysis</span>
          </div>
        </div>
      </header>

      <main>
        <section class="panel">
          <div class="panel-header">
            <h2>Agent Configuration</h2>
            <p>Select the eyes, mind, and hands for each run.</p>
          </div>
          <div class="grid three">
            <label class="field">
              <span>Eyes</span>
              <select id="eyes"></select>
              <small>Image model for perception.</small>
            </label>
            <label class="field">
              <span>Mind</span>
              <select id="mind"></select>
              <small>Reasoning and knowledge engine.</small>
            </label>
            <label class="field">
              <span>Hands</span>
              <select id="hand"></select>
              <small>Execution controller (SDK).</small>
            </label>
          </div>
        </section>

        <section class="panel">
          <div class="panel-header">
            <h2>Task Studio</h2>
            <p>Pick a task template or write a custom prompt.</p>
          </div>
          <div class="grid two">
            <label class="field">
              <span>Task Template</span>
              <select id="task"></select>
              <small>Pre-built prompt for common workflows.</small>
            </label>
            <label class="field">
              <span>Notes</span>
              <input id="notes" type="text" placeholder="Sample, batch, or dataset info" />
            </label>
          </div>
          <label class="field">
            <span>Prompt</span>
            <textarea id="prompt" rows="6"></textarea>
          </label>
          <div class="actions">
            <button id="run" class="primary">Run BioAgent</button>
            <button id="refresh" class="ghost">Refresh Jobs</button>
          </div>
        </section>

        <section class="panel">
          <div class="panel-header">
            <h2>Recent Jobs</h2>
            <p>Queued requests waiting for execution drivers.</p>
          </div>
          <div id="jobs" class="job-list"></div>
        </section>
      </main>

      <footer>
        <div>Powered by Tornado â€¢ PWA ready</div>
        <div>BioAgent local workspace</div>
      </footer>
    </div>

    <script src="config.js"></script>
    <script src="app.js"></script>
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker.register("/sw.js");
        });
      }
    </script>
  </body>
</html>
